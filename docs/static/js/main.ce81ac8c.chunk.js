(this.webpackJsonpscb=this.webpackJsonpscb||[]).push([[0],{185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},283:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(30),i=a.n(o),l=(a(185),a(150)),c=a(107),r={en:{translation:{captcha:{header:"Type the verification code (in Capital Letters)",placeholder:"Verification Code",button:"Verify to Proceed",selectOptions:{English:"\u4e2d\u6587",Chinese:"Chinese"},TechnicalError:"This service is temporarily unavailable for system maintenance. Please try again later. Apologies for the inconvenience caused",Maintenance:"This service is temporarily unavailable for system maintenance. Please try again later. Apologies for the inconvenience caused",Thankyou:"Thank you for your interest for this service, however our new banknotes reservation are fully booked. Please visit our branches for assistance.",Error:"The verification code you entered is incorrect, please retry."},tab:{new_booking:"Booking",update_booking:"Enquiry/Cancel"},importantNotes:{title:"Important Notes",1:" All Online Pre-orders, once submitted, cannot be amended.",2:" No express queue will be arranged for the collection of banknotes pre-ordered online.",3:"Clients, when collecting the banknote(s), may instruct the Bank to debit the total sum from the his/her personal bank account or by exchanging the same amount of old banknote(s) (in Hong Kong currency) at the collection counters.",4:"Clients must check the conditions of the banknote(s) at the counters of the Designated Collection Branch as shown above. Replacement of the banknote(s) will only be arranged if found damaged at the time of collection. Requests for replacement of the banknote(s) will not be accepted after the clients have left the collection counters.",5:"lf a client does not collect the banknote(s) at the Designated Collection Branch and on the Designated Collection Date, or fails to collect the banknote(s)in accordance with the terms and conditions provided, the Bank will not keep the banknote(s) for the client. The client shall be deemed to have forgone the right to collect the banknote(s) and that the Bank will dispose of the uncollected banknote(s) at its absolute discretion.",6:"Unless otherwise stated, any reference to a date in the terms and conditions only refers to the normal business hours of the Bank on such date, and does not include any time within which a tropical cyclone warning signal number 8 or above, a Black Rainstorm warning signal, is in force in Hong Kong.",7:"Every mobile number can only register for one pack of new banknotes per day."},new_booking:{header:"Chinese New Year New Banknotes Booking",hint:"Please fill in the below ordering form to complete the registration",button:{back:"Back",submit:"Submit",review:"Review Order"},refnumber:"Your Reference Number is",booking_success:"Thanks for your submission of this pre-order form: A sms confirmation will be sent to your mobile number provided in this form."},update_booking:{mobile:"Mobile Number",email:"Email Address",button:"Submit",cancelbutton:"Cancel Appointment",cancel_success:"Your selected booking has been cancelled. A sms confirmation will be sent to your mobile number provided in this form.",norecordfound:"No Appointments found for this mobile number : "},forms:{SelectPlaceholder:"Please Select...",Title:"Title",LastName:"Last Name",MobileNumber:"Mobile Number",CollectionBranch:"Collection Branch",CollectionDate:"Collection Date",CollectionTimeslot:"Collection Timeslot",Quantity:"Quantity",Declaration:"Declaration",QuantityText:"Total value per pack: HK$3,000. (Denomination: HK$20 x 100pcs, HK$50 x 20pcs)",DeclarationPoints:{1:"I confirm the above information is accurate to my knowledge. No amendment is allowed once the form is submitted",2:"I have read, understood and agreed to the terms and conditions of this application"},regionThree:"---- New Territories ---- ",regionTwo:"---- Kowloon  ---- ",regionOne:"---- Hong Kong ----",salutationOne:"Mr.",salutationTwo:"Mrs.",salutationThree:"Miss",noslotsavailable:"All slots are full please select different branch"},modal:{okbutton:"Ok"},review_orders:{},response:{}}},zh:{translation:{captcha:{header:"\u952e\u5165\u9a8c\u8bc1\u4ee3\u7801\uff08\u5927\u5199\u5b57\u6bcd)",placeholder:"\u9a8c\u8bc1\u4ee3\u7801",button:"\u9a8c\u8bc1\u7ee7\u7eed",selectOptions:{English:"EN",Chinese:"EN"},TechnicalError:"\u66ab\u6642\u672a\u80fd\u63d0\u4f9b\u670d\u52d9\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002\u5982\u6709\u4e0d\u4fbf\uff0c\u656c\u8acb\u539f\u8ad2\u3002",Maintenance:"\u66ab\u6642\u672a\u80fd\u63d0\u4f9b\u670d\u52d9\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002\u5982\u6709\u4e0d\u4fbf\uff0c\u656c\u8acb\u539f\u8ad2\u3002",Thankyou:"\u591a\u8b1d\u95a3\u4e0b\u5c0d\u6b64\u670d\u52d9\u7684\u8208\u8da3\u3002 \u7531\u65bc\u7db2\u4e0a\u9810\u8a02\u9214\u7968\u53cd\u61c9\u71b1\u70c8\uff0c\u5168\u90e8\u7db2\u4e0a\u914d\u984d\u5df2\u88ab\u9810\u8a02\u3002\u5982\u9700\u5354\u52a9\uff0c\u8acb\u5230\u81e8\u6211\u5011\u7684\u5206\u884c\u3002",Error:"\u60a8\u6240\u8f38\u5165\u7684\u9a57\u8b49\u78bc\u4e0d\u6b63\u78ba\uff0c\u8acb\u91cd\u65b0\u8f38\u5165\u3002"},tab:{new_booking:"\u9884\u8ba2",update_booking:"\u67e5\u8be2/\u53d6\u6d88"},importantNotes:{title:"\u91cd\u8981\u4e8b\u9805:",1:"\u6240\u6709\u7db2\u4e0a\u9810\u5b9a\u7533\u8acb\u4e00\u7d93\u63d0\u4ea4\uff0c\u4e0d\u5f97\u4fee\u6539\u3002",2:"\u6307\u5b9a\u9818\u9214\u5206\u884c\u4e26\u4e0d\u6703\u5b89\u6392\u5feb\u6377\u6ac3\u6aaf\u4e88\u5ba2\u6236\u9818\u53d6\u9214\u7968\u3002",3:"\u5ba2\u6236\u53ef\u6307\u793a\u9280\u884c\u5f9e\u500b\u4eba\u9280\u884c\u8cec\u6236\u4e2d\u6263\u9664\u5168\u90e8\u514c\u63db\u91d1\u984d\uff0c\u6216\u5728\u6ac3\u6aaf\u514c\u63db\u76f8\u540c\u6578\u503c\u7684\u820a\u9214\u7968\uff08\u6e2f\u5e63\uff09\uff0c\u5f9e\u800c\u9818\u53d6\u9214\u7968\u3002",4:"\u5ba2\u6236\u61c9\u5728\u6307\u5b9a\u9818\u9214\u5206\u884c\u7684\u6ac3\u6aaf\u67e5\u770b\u9214\u7968\u7684\u72c0\u6cc1\u3002\u66f4\u63db\u9214\u7968\u53ea\u80fd\u5728\u9818\u9214\u6642\u767c\u73fe\u640d\u58de\u7684\u60c5\u6cc1\u4e0b\u9032\u884c\u5b89\u6392\u3002\u5ba2\u6236\u96e2\u958b\u9818\u9214\u6ac3\u6aaf\u5f8c\uff0c\u672c\u884c\u5c07\u4e0d\u63a5\u53d7\u66f4\u63db\u9214\u7968\u7684\u8981\u6c42\u3002",5:"\u5982\u5ba2\u6236\u6c92\u6709\u5728\u6307\u5b9a\u9818\u9214\u5206\u884c\u548c\u6307\u5b9a\u65e5\u671f\u9818\u53d6\u9214\u7968\uff0c\u6216\u672a\u6309\u7167\u898f\u5b9a\u7684\u689d\u6b3e\u548c\u7d30\u5247\u9818\u53d6\u9214\u7968\uff0c\u672c\u884c\u5c07\u4e0d\u6703\u70ba\u5ba2\u6236\u4fdd\u7559\u9214\u7968\u3002\u5ba2\u6236\u5c07\u88ab\u8996\u70ba\u5df2\u7d93\u653e\u68c4\u6536\u53d6\u9214\u7968\u7684\u6b0a\u5229\uff0c\u672c\u884c\u5c07\u81ea\u884c\u6c7a\u5b9a\u8655\u7f6e\u672a\u9818\u53d6\u7684\u9214\u7968\u3002",6:"\u9664\u53e6\u6709\u8aaa\u660e\u5916\uff0c\u51e1\u65bc\u689d\u6b3e\u53ca\u7d30\u5247\u5167\u63d0\u53ca\u7684\u65e5\u671f\uff0c\u50c5\u6307\u672c\u884c\u65bc\u8a72\u65e5\u671f\u7684\u6b63\u5e38\u71df\u696d\u6642\u9593\uff0c\u4e26\u4e0d\u5305\u62ec\u7576\u9999\u6e2f\u767c\u51fa8\u865f\u6216\u4ee5\u4e0a\u71b1\u5e36\u6c23\u65cb\u8b66\u544a\u4fe1\u865f\u6216\u9ed1\u8272\u66b4\u96e8\u8b66\u544a\u4fe1\u865f\u6642\u4e4b\u4efb\u4f55\u6642\u9593\u3002",7:"\u6bcf\u500b\u624b\u6a5f\u865f\u78bc\u5728\u6bcf\u5929\u53ea\u80fd\u9810\u8a02\u4e00\u5957\u5957\u88dd\u65b0\u9214\u7968\u3002"},new_booking:{header:"\u7db2\u4e0a\u9810\u8a02\u65b0\u9214\u7968",hint:"\u8bf7\u586b\u5199\u4ee5\u4e0b\u8ba2\u8d2d\u8868\u4ee5\u5b8c\u6210\u6ce8\u518c",button:{back:"\u8fd4\u56de",submit:"\u63d0\u4ea4",review:"\u5ba1\u6838\u8ba2\u5355"}},update_booking:{mobile:"\u79fb\u52a8\u53f7\u7801",email:"\u7535\u5b50\u90ae\u4ef6\u5730\u5740",button:"\u63d0\u4ea4"},forms:{SelectPlaceholder:"Please Select...",Title:"Title",LastName:"Last Name",MobileNumber:"Mobile Number",CollectionBranch:"Collection Branch",CollectionDate:"Collection Date",CollectionTimeslot:"Collection Timeslot",Quantity:"Quantity",Declaration:"Declaration",QuantityText:"Total value per pack: HK$3,000. (Denomination: HK$20 x 100pcs, HK$50 x 20pcs)",DeclarationPoints:{1:"I confirm the above information is accurate to my knowledge. No amendment is allowed once the form is submitted",2:"I have read, understood and agreed to the terms and conditions of this application"},regionThree:"---- New Territories ---- ",regionTwo:"---- Kowloon  ---- ",regionOne:"---- Hong Kong ----"},review_orders:{},response:{}}}};l.a.use(c.e).init({resources:r,lng:navigator.language});var u=l.a,d=a(28),h=a(29),b=a(33),p=a(32),m=(a(186),a(60)),j=(a(187),a(288)),g=a(291),f=(a(188),a(287)),v=a(286),O=a(297),x=a(37),y=a(298),k=a(299),S=a(300),C=a(175),N=(a(189),a(103)),w=a(292),T=a(293),D=a(290),L=a(104),M=a(294),B=a(67),V=a(295),A=a(6);a(191).config();var I="".concat("https://rdc-hk-onboarding-test-hk-uat-cmd-forms.int.apps.rdc-np.ocp.standardchartered.com","/origination/api/v3/cnynotes"),_=function(){function e(){Object(d.a)(this,e),this.language=void 0,this.uuid=void 0}return Object(h.a)(e,[{key:"get",value:function(e,t,a){return console.log("language from captcha is:"+this.language),fetch("".concat(I).concat(e),{method:"GET",headers:this.headers(t,a)}).then((function(e){return e.json()}))}},{key:"post",value:function(e,t,a,s){return console.log("language from captcha is:"+this.language),fetch("".concat(I).concat(e),{method:"POST",headers:this.headers(a,s),body:JSON.stringify(t)}).then((function(e){return e}))}},{key:"headers",value:function(e,t){var a={"Content-Type":"application/json",Accept:"application/json"},s={reqId:"".concat(Object(V.a)()),Channel:"Web",Country:"HK",Language:t,AppName:"RCWB",ClientId:"WEB",RumDevice:"devicebrowserversion",appVersion:"1.0",userId:e,releaseVersion:"cnynotes"};return a["SC-CLIENT-CONTEXT"]=JSON.stringify(s),a}},{key:"modal",value:function(e,t,a){M.a[e]({title:t,content:Object(A.jsx)(B.a,{image:"/assets/images/modal/info.svg"}),onOk:function(){console.log("on Ok")}})}},{key:"setLanguage",value:function(e){this.language=e,u.changeLanguage(this.language)}},{key:"setUUID",value:function(e){this.uuid=e,u.changeLanguage(this.language)}}]),e}(),P=a(35),E=a.n(P),q=a(296),Y=N.a.OptGroup,K=N.a.Option,R=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).props=s.props,s.form=void 0,s.state={datesLoaded:!1,datesLoading:!1,info:!0,termsCondition:!0,mobile:"",branchList:{},branchSelected:"",dateList:[],collectionTimeSlots:[]},s.service=new _,s.allFields=s.props.fields,e=s.props,console.log("uuid in constructor:"+s.props.uuid),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getBranchList()}},{key:"getBranchList",value:function(){var e=this;console.log("uuid is:"+this.props.uuid),this.service.get("/branchlist/".concat(this.props.uuid),this.props.uuid,this.props.lang).then((function(t){e.setState({branchList:t}),e.getValue("collectionBranch")&&e.getDateList(e.getValue("collectionBranch"))})).catch((function(e){console.log(e)}))}},{key:"getDateList",value:function(e){var t=this;this.setState({datesLoading:!0}),this.service.get("/slots/".concat(e.value,"/").concat(this.props.uuid),this.props.uuid,this.props.lang).then((function(e){t.setState({datesLoading:!1}),t.setState({dateList:e.data.slots}),t.setState({datesLoaded:!0})})).catch((function(e){console.log(e)}))}},{key:"disabledDate",value:function(e){var t=e?P.find(this.state.dateList,["slot-date",e.format("DD/MM/YYYY")]):null;return!t||t&&!t.status}},{key:"getTimeSlots",value:function(e){var t=e?P.find(this.state.dateList,["slot-date",e.format("DD/MM/YYYY")]):null;t&&t.status&&this.setState({collectionTimeSlots:t.slotTime})}},{key:"setData",value:function(e,t){var a=P.find(this.allFields,["name",t]);a&&(a.value=e,this.props.onChange(this.allFields))}},{key:"validate",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState({mobile:e.target.value})}},{key:"getValue",value:function(e){var t=P.find(this.props.fields,["name",e]);return t&&t.value?t.value:""}},{key:"render",value:function(){var e=this,t=this.props.t;return Object(A.jsxs)("div",{className:"form",children:[this.state.datesLoading&&Object(A.jsx)("div",{id:"loader",className:"loader"}),Object(A.jsx)("div",{className:"title",children:"Order Details"}),Object(A.jsxs)(w.a,{layout:"vertical",children:[Object(A.jsx)(w.a.Item,{name:"title",label:t("forms.Title"),rules:[{required:!0,message:"".concat(t("forms.Title")," is required!")}],children:Object(A.jsxs)(N.a,{size:"large",placeholder:t("forms.SelectPlaceholder"),defaultValue:this.getValue("title"),onChange:function(t){return e.setData(t,"title")},children:[Object(A.jsx)(K,{value:"Mr.",children:"Mr."}),Object(A.jsx)(K,{value:"Mrs.",children:"Mrs."}),Object(A.jsx)(K,{value:"Miss",children:"Miss"})]})}),Object(A.jsxs)(w.a.Item,{name:"lastName",label:t("forms.LastName"),rules:[{required:!0,message:"".concat(t("forms.LastName")," is required!")}],children:[Object(A.jsx)(T.a,{size:"large",placeholder:t("forms.LastName"),defaultValue:this.getValue("lastName"),onChange:function(t){return e.setData(t.target.value,"lastName")}}),!1]}),Object(A.jsx)(w.a.Item,{name:"mobileNumber",label:t("forms.MobileNumber"),rules:[{required:!0,message:"".concat(t("forms.MobileNumber")," is required!")}],children:Object(A.jsxs)(T.a.Group,{compact:!0,children:[Object(A.jsx)(T.a,{style:{width:"10%"},disabled:!0,size:"large",defaultValue:"852"}),Object(A.jsx)(T.a,{style:{width:"90%"},maxLength:8,size:"large",placeholder:t("forms.MobileNumber"),defaultValue:this.getValue("mobileNumber"),value:this.state.mobile,onChange:function(t){e.setData(t.target.value,"mobileNumber"),e.validate(t)}})]})}),Object(A.jsx)(w.a.Item,{name:"collectionBranch",label:t("forms.CollectionBranch"),rules:[{required:!0,message:"".concat(t("forms.CollectionBranch")," is required!")}],children:Object(A.jsx)(N.a,{labelInValue:!0,size:"large",placeholder:t("forms.SelectPlaceholder"),defaultValue:this.getValue("collectionBranch"),onChange:function(t){e.getDateList(t),e.setData(t,"collectionBranch")},children:Object.entries(this.state.branchList).map((function(a){var s=Object(C.a)(a,2),n=s[0],o=s[1];return P.size(o)&&Object(A.jsx)(Y,{label:t("regionOne"===n?"forms.regionOne":"regionTwo"===n?"forms.regionTwo":"forms.regionThree"),children:o.map((function(t){return Object(A.jsx)(K,{value:t.code,children:"en"===e.props.lang?t.name:t.chineseName})}))})}))})}),0===this.state.dateList.length&&this.state.datesLoaded&&Object(A.jsx)("span",{className:"field-error",children:t("forms.noslotsavailable")}),Object(A.jsx)(w.a.Item,{name:"collectionDate",label:t("forms.CollectionDate"),rules:[{required:!0,message:"".concat(t("forms.CollectionDate")," is required!")}],children:Object(A.jsx)(D.a,{disabled:P.size(this.state.dateList)<1,size:"large",format:"DD/MM/YYYY",defaultValue:this.getValue("collectionDate"),disabledDate:function(t){return e.disabledDate(t)},onChange:function(t){e.getTimeSlots(t),e.setData(t,"collectionDate")},style:{width:"100%"}})}),Object(A.jsx)(w.a.Item,{name:"collectionTimeslot",label:t("forms.CollectionTimeslot"),rules:[{required:!0,message:"".concat(t("forms.CollectionTimeslot")," is required!")}],children:Object(A.jsx)(N.a,{size:"large",disabled:P.size(this.state.dateList)<1,placeholder:t("forms.SelectPlaceholder"),defaultValue:this.getValue("collectionTimeslot"),onChange:function(t){return e.setData(t,"collectionTimeslot")},children:this.state.collectionTimeSlots.map((function(e){return Object(A.jsx)(K,{value:e["slot-time"],children:e["slot-time"]})}))})}),Object(A.jsx)(w.a.Item,{label:t("forms.Quantity"),children:Object(A.jsxs)(O.b,{direction:"vertical",children:[Object(A.jsx)("span",{className:"ant-form-text",children:"1"}),Object(A.jsx)("span",{className:"ant-form-text",children:t("forms.QuantityText")})]})}),Object(A.jsx)(w.a.Item,{label:t("forms.Declaration"),children:Object(A.jsxs)(O.b,{direction:"vertical",children:[Object(A.jsx)(L.a,{checked:this.state.info,onChange:function(t){return e.setState({info:t.target.checked})},children:t("forms.DeclarationPoints.1")}),Object(A.jsx)(L.a,{checked:this.state.termsCondition,onChange:function(t){return e.setState({termsCondition:t.target.checked})},children:t("forms.DeclarationPoints.2")})]})})]})]})}}]),a}(s.Component),z=Object(q.a)()(R),H=(a(270),a(46)),U=a.n(H),F=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={mobile:"",selectedRowKeys:[],mobileSearch:null,loadingAppointment:!1,appointmentData:null,status:null},s.service=new _,s.props=s.props,e=s.props,console.log(s.props),console.log(s.props.fields[0].title),s}return Object(h.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({mobile:"",selectedRowKeys:[],mobileSearch:null,loadingAppointment:!1,appointmentData:null,status:null})}},{key:"componentDidMount",value:function(){console.log(this.props.fields)}},{key:"getValue",value:function(e){var t=E.a.find(this.props.fields,["name",e]);return console.log("data is:",t),t&&t.value?"collectionDate"===e?U()(t.value).format("DD/MM/YYYY"):"collectionBranch"===e&&t.value&&t.value.label?t.value.label:t.value:"-"}},{key:"render",value:function(){var e=this.props.t;return Object(A.jsxs)("div",{className:"review-booking",children:[Object(A.jsx)("div",{className:"title",children:"Review Order Details"}),Object(A.jsxs)("div",{className:"prop-list",children:[Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.Title")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("title")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.LastName")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("lastName")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.MobileNumber")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("mobileNumber")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.CollectionBranch")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("collectionBranch")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.CollectionDate")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("collectionDate")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.CollectionTimeslot")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:this.getValue("collectionTimeslot")||"-"})]})}),Object(A.jsx)(v.a,{className:"prop-li",span:16,push:4,pull:4,children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(v.a,{span:5,children:e("forms.Quantity")}),Object(A.jsx)(v.a,{span:1,children:":"}),Object(A.jsx)(v.a,{span:16,children:Object(A.jsxs)(v.a,{span:24,children:[Object(A.jsx)("div",{className:"ant-form-text",children:"1"}),Object(A.jsx)("div",{className:"ant-form-text",children:e("forms.QuantityText")})]})})]})})]})]})}}]),a}(s.Component),Q=Object(q.a)()(F),$=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).props=e.props,e.state={isModalVisible:!1},e}return Object(h.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({isModalVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.t;return Object(A.jsx)(M.a,{title:t("new_booking.header"),visible:this.props.visible,onCancel:function(){return e.props.onChange(!1)},footer:[Object(A.jsx)(x.a,{type:"primary",onClick:function(){return e.props.onChange(!1)},children:t("modal.okbutton")},"submit")],children:this.props.body})}}]),a}(s.Component),W=Object(q.a)()($),G=j.a.Footer,J=[{label:"Title",name:"title",value:null,required:!0},{label:"Last Name",name:"lastName",value:null,required:!0},{label:"Mobile Number",name:"mobileNumber",value:null,required:!0},{label:"Collection Branch",name:"collectionBranch",value:null,required:!0},{label:"Collection Date",name:"collectionDate",value:null,required:!0},{label:"Collection Timeslot",name:"collectionTimeslot",value:null,required:!0}],X=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).form=void 0,s.state={bookingProgress:!1,status:null,refNo:"",fields:J,orderStatus:"change",showModal:!1,modalMsg:null},s.props=s.props,s.service=new _,e=s.props,console.log("lanaguge:"+s.props.lang),console.log("uuid:"+s.props.uuid),s}return Object(h.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"getValue",value:function(e){var t=P.find(this.state.fields,["name",e]);return console.log("data is:",t),t&&t.value?"collectionDate"===e?U()(t.value).format("DD/MM/YYYY"):"collectionBranch"===e&&t.value&&t.value.label?t.value.label:t.value:"-"}},{key:"getBranchCode",value:function(e){console.log("data for branch code:",this.state.fields);var t=P.find(this.state.fields,["name",e]);return console.log("data is:",t),t&&t.value&&"collectionBranch"===e?t.value.value:"-"}},{key:"disableButton",get:function(){return!!P.find(this.state.fields,["value",null])||!!P.find(this.state.fields,["value",void 0])}},{key:"submitOrder",value:function(){var e=this;this.setState({status:null}),this.setState({bookingProgress:!0});var t={data:{id:0,type:"APPOINTMENT",attributes:{"unique-id":this.props.uuid,"branch-code":this.getBranchCode("collectionBranch"),title:this.getValue("title"),"appointment-slot":this.getValue("collectionTimeslot"),"last-name":this.getValue("lastName"),mobileNo:"852"+this.getValue("mobileNumber"),"appointment-date":this.getValue("collectionDate"),quantity:1,"booked-date":U()().format("YYYY-MM-DD HH:mm:ss.SSS"),status:"booked","language-code":this.props.lang,"branch-name":this.getValue("collectionBranch"),"ref-id":this.props.uuid}}};this.service.post("",t,this.props.uuid,this.props.lang).then((function(t){return e.setState({bookingProgress:!1}),e.setState({status:t.status}),t.json()})).then((function(t){console.log("result.status:",e.state.status+", ref",t["tp-ref"]),404===e.state.status||200===e.state.status&&(e.setState({navigate:!0}),e.setState({showModal:!0}),e.setState({modalMsg:"booking_success"}),e.setState({refNo:t["tp-ref"]}))})).catch((function(e){}))}},{key:"reviewOrder",value:function(e){this.setState({orderStatus:"review"})}},{key:"backToChange",value:function(){this.setState({orderStatus:"change"})}},{key:"render",value:function(){var e=this,t=this.props.t;return Object(A.jsxs)("span",{children:[this.state.bookingProgress&&Object(A.jsx)("div",{id:"loader",className:"loader"}),"change"===this.state.orderStatus&&Object(A.jsx)(z,Object(m.a)(Object(m.a)({},this.props),{},{form:this.form,fields:this.state.fields,onChange:function(t){e.setState({fields:t})}})),"review"===this.state.orderStatus&&Object(A.jsx)(Q,{fields:this.state.fields}),Object(A.jsx)(G,{children:Object(A.jsx)(f.a,{className:"footer-row",children:Object(A.jsx)(v.a,{span:4,offset:20,children:Object(A.jsxs)(f.a,{children:["review"===this.state.orderStatus&&Object(A.jsxs)(O.b,{align:"end",children:[Object(A.jsx)(v.a,{span:12,children:Object(A.jsx)(x.a,{danger:!0,type:"primary",icon:Object(A.jsx)(y.a,{}),onClick:function(){return e.backToChange()},children:t("new_booking.button.back")})}),Object(A.jsx)(v.a,{span:12,children:Object(A.jsx)(x.a,{className:"review-btn",disabled:this.disableButton,type:"primary",icon:Object(A.jsx)(k.a,{}),onClick:function(){return e.submitOrder()},children:t("new_booking.button.submit")})})]}),"change"===this.state.orderStatus&&Object(A.jsx)(v.a,{span:16,offset:8,children:Object(A.jsx)(x.a,{className:"submit-btn",disabled:this.disableButton,type:"primary",icon:Object(A.jsx)(k.a,{}),onClick:function(){return e.reviewOrder(e.state.fields)},children:t("new_booking.button.review")})})]})})})}),Object(A.jsx)(W,{visible:this.state.showModal,body:Object(A.jsxs)(v.a,{children:[Object(A.jsxs)(O.b,{children:[Object(A.jsx)(S.a,{style:{fontSize:"30px"},twoToneColor:"#52c41a"}),Object(A.jsx)("div",{children:t("new_booking."+this.state.modalMsg)})]}),""!==this.state.refNo&&Object(A.jsxs)("div",{children:[" ",t("new_booking.refnumber")," ",Object(A.jsx)("b",{children:this.state.refNo})]})]}),onChange:function(t){return e.setState({showModal:t})}})]})}}]),a}(s.Component),Z=Object(q.a)()(X),ee=a(118),te=(a(271),a(289)),ae=a(272),se=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={modalMsg:"",refNo:"",showModal:!1,mobile:"",mobileNumber:"",rowSelected:!1,selectedRowKeys:[],selectedRows:[],mobileSearch:null,loadingAppointment:!1,appointmentData:null,status:null},s.service=new _,s.onSelectChange=function(e,t){console.log("selectedRows:",t[0]),s.setState({selectedRowKeys:e}),s.setState({selectedRows:t}),s.setState({rowSelected:!0}),s.rowSelection.selectedRowKeys=e},s.rowSelection={selectedRowKeys:[],onChange:s.onSelectChange},s.props=s.props,s.columns=[{title:"Collection Date",dataIndex:"appointmentdate"},{title:"Collection Branch",dataIndex:"branch-name"},{title:"Collection Timeslot",dataIndex:"appointment-slot"},{title:"Reference Number",dataIndex:"ref-id"}],s.data=[],e=s.props,console.log("lanaguge:"+s.props.lang),console.log("uuid:"+s.props.uuid),s.validate=s.validate.bind(Object(ee.a)(s)),s}return Object(h.a)(a,[{key:"componentWillMount",value:function(){console.log("tereeeee"),this.setState({appointmentData:null}),this.setState({selectedRows:null}),this.setState({selectedRowKeys:null}),this.setState({rowSelected:!1})}},{key:"componentDidUnMount",value:function(){console.log("testsss...."),this.setState({appointmentData:null}),this.setState({selectedRows:null}),this.setState({selectedRowKeys:null}),this.setState({rowSelected:!1})}},{key:"getAppointments",value:function(){var e=this;this.setState({loadingAppointment:!0}),this.setState({appointmentData:null}),this.rowSelection={selectedRowKeys:[],onChange:this.onSelectChange};var t={data:{id:0,type:"APPOINTMENT",attributes:{"unique-id":this.props.uuid,mobileNo:"852"+this.state.mobileNumber}}};this.service.post("/appointments",t,this.props.uuid,this.props.lang).then((function(t){return e.setState({status:t.status}),t.json()})).then((function(t){e.setState({mobile:""}),404===e.state.status?e.setState({loadingAppointment:!1}):200===e.state.status?(e.setState({loadingAppointment:!1}),P.each(t,(function(e){console.log("test:"),e.appointmentdate=ae(e["appointment-date"],"dd-mm-yyyy"),e["appointment-date"]=ae(e["appointment-date"],"dd/mm/yyyy")})),e.setState({appointmentData:t})):e.setState({loadingAppointment:!1})})).catch((function(t){e.setState({loadingAppointment:!1})}))}},{key:"cancelAppointment",value:function(){var e=this;this.setState({loadingAppointment:!0});var t={data:{id:0,type:"CANCELATION",attributes:this.state.selectedRows[0]}};delete t.data.attributes["booked-date"],t.data.attributes["unique-id"]=this.props.uuid,t.data.attributes.id=0,t.data.attributes.status="cancelled",t.data.attributes["language-code"]=this.props.lang,this.service.post("",t,this.props.uuid,this.props.lang).then((function(a){e.setState({verifyButtonLoader:!1}),console.log("result.status:"+a.status),404===a.status?e.setState({loadingAppointment:!1}):200===a.status?(e.setState({loadingAppointment:!1}),e.setState({showModal:!0}),e.setState({modalMsg:"cancel_success"}),e.setState({rowSelected:!0}),e.setState({refNo:t.data.attributes["ref-id"]})):e.setState({loadingAppointment:!1})})).catch((function(t){e.setState({loadingAppointment:!1})}))}},{key:"validate",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&(this.setState({mobile:e.target.value}),this.setState({mobileNumber:e.target.value}),this.setState({rowSelected:!1}))}},{key:"render",value:function(){for(var e=this,t=0;t<150;t++)this.data.push({key:t,reference_number:t,collection_date:t,collection_timeslot:"Edward King ".concat(t),collection_branch:32});var a=this.props.t;return Object(A.jsxs)("div",{className:"update-booking",children:[Object(A.jsx)(f.a,{children:Object(A.jsx)(v.a,{span:9,children:Object(A.jsx)(w.a,{className:"update-booking",layout:"horizontal",children:Object(A.jsxs)(O.b,{direction:"vertical",children:[Object(A.jsx)(w.a.Item,{name:"mobileNumber",label:a("update_booking.mobile"),children:Object(A.jsxs)(T.a.Group,{compact:!0,children:[Object(A.jsx)(T.a,{style:{width:"15%"},disabled:!0,size:"large",defaultValue:"852"}),Object(A.jsx)(T.a,{style:{width:"85%"},size:"large",maxLength:8,placeholder:a("update_booking.mobile"),value:this.state.mobile,onChange:this.validate,autoFocus:!0,onPressEnter:function(){return e.getAppointments()}})]})}),!this.state.rowSelected&&Object(A.jsx)(v.a,{className:"submit-button",span:8,offset:8,children:Object(A.jsx)(x.a,{className:"submit-btn",type:"primary",disabled:8!==this.state.mobile.length,icon:Object(A.jsx)(k.a,{}),onClick:function(){return e.getAppointments()},children:a("update_booking.button")})}),this.state.rowSelected&&Object(A.jsx)(v.a,{className:"submit-button",span:10,offset:8,children:Object(A.jsx)(x.a,{className:"submit-btn",type:"primary",icon:Object(A.jsx)(k.a,{}),onClick:function(){return e.cancelAppointment()},children:a("update_booking.cancelbutton")})})]})})})}),Object(A.jsxs)(f.a,{className:"update-booking",children:[this.state.loadingAppointment&&Object(A.jsx)("div",{id:"loader",className:"loader"}),null!==this.state.appointmentData&&Object(A.jsx)(v.a,{span:15,children:Object(A.jsx)(te.a,{locale:{emptyText:a("update_booking.norecordfound")+"852"+this.state.mobileNumber},rowSelection:Object(m.a)({type:"radio"},this.rowSelection),columns:this.columns,dataSource:this.state.appointmentData,size:"small",bordered:!0,scroll:{y:165}})}),Object(A.jsx)(W,{visible:this.state.showModal,body:Object(A.jsxs)(v.a,{children:[Object(A.jsxs)(O.b,{children:[Object(A.jsx)(S.a,{style:{fontSize:"30px"},twoToneColor:"#52c41a"}),Object(A.jsx)("div",{children:a("update_booking."+this.state.modalMsg)})]}),""!==this.state.refNo&&Object(A.jsxs)("div",{children:[" ",a("new_booking.refnumber")," ",Object(A.jsx)("b",{children:this.state.refNo})]})]}),onChange:function(t){e.setState({showModal:t}),e.getAppointments()}})]})]})}}]),a}(s.Component),ne=Object(q.a)()(se),oe=j.a.Header,ie=j.a.Content,le=g.a.TabPane,ce=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).props=s.props,e=s.props,s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.t;return Object(A.jsxs)(j.a,{children:[Object(A.jsxs)(oe,{children:[Object(A.jsx)("div",{className:"header",children:e("new_booking.header")}),Object(A.jsx)("div",{children:e("new_booking.hint")})]}),Object(A.jsx)(ie,{children:Object(A.jsxs)(g.a,{defaultActiveKey:"new",children:[Object(A.jsx)(le,{tab:e("tab.new_booking"),children:Object(A.jsx)(Z,Object(m.a)({},this.props))},"new"),Object(A.jsx)(le,{tab:e("tab.update_booking"),children:Object(A.jsx)(ne,Object(m.a)({},this.props))},"cancellationAndEnquiries")]})})]})}}]),a}(s.Component),re=Object(q.a)()(ce),ue=(a(278),a(301)),de=a(302),he=(a(279),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.t;return Object(A.jsxs)("div",{className:"important-notes",children:[Object(A.jsx)("div",{className:"title",children:e("importantNotes.title")}),Object(A.jsxs)("ol",{children:[Object(A.jsx)("li",{children:e("importantNotes.1")}),Object(A.jsx)("li",{children:e("importantNotes.2")}),Object(A.jsx)("li",{children:e("importantNotes.3")}),Object(A.jsx)("li",{children:e("importantNotes.4")}),Object(A.jsx)("li",{children:e("importantNotes.5")}),Object(A.jsx)("li",{children:e("importantNotes.6")}),Object(A.jsx)("li",{children:e("importantNotes.7")})]})]})}}]),a}(s.Component)),be=Object(q.a)()(he),pe=j.a.Header,me=j.a.Content,je=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={navigate:!1,captchaInput:"",verifyButtonLoader:!1,reloadCaptchaLoader:!1,captcha:null,lang:"en",message:null},s.service=new _,s.changeLanguageHandler("en"),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getStatus()}},{key:"changeLanguageHandler",value:function(e){this.setState({lang:e}),this.service.setLanguage(e),u.changeLanguage(e)}},{key:"getStatus",value:function(){var e=this;this.service.get("/servicecheck",this.state.uuid,this.state.lang).then((function(t){console.log("param value:",t.paramValue),void 0===t.paramValue?e.setState({message:"Error"}):e.setState({message:t.paramValue}),t.paramValue&&t.paramValue.toLowerCase()==="Up".toLowerCase()&&e.refreshCaptcha()})).catch((function(t){e.setState({message:"Error"})}))}},{key:"refreshCaptcha",value:function(){var e=this;this.setState({reloadCaptchaLoader:!0}),this.setState({captchainvalid:!1}),this.setState({captchaInput:""}),this.setState({captcha:null}),this.service.get("/captcha",this.state.uuid,this.state.lang).then((function(t){e.setState({reloadCaptchaLoader:!1}),e.setState({captcha:t.data.captcha}),e.setState({uuid:t.data.uuid}),e.service.setUUID(t.data.uuid)})).catch((function(t){e.setState({reloadCaptchaLoader:!1}),e.setState({captcha:null}),e.setState({message:"Error"})}))}},{key:"validate",value:function(e){console.log("test in validate"+e.target.value.toUpperCase());(""===e.target.value||/^[0-9a-zA-Z\b]+$/.test(e.target.value))&&this.setState({captchaInput:e.target.value.toUpperCase()})}},{key:"verifyCaptcha",value:function(){var e=this;this.setState({verifyButtonLoader:!0});var t={data:{id:0,type:"CAPTCHAVALIDATION",attributes:{"unique-id":this.state.uuid,"captha-answer":this.state.captchaInput}}};this.service.post("/captcha",t,this.state.uuid,this.state.lang).then((function(t){e.setState({verifyButtonLoader:!1}),console.log("result.status:"+t.status),404===t.status?(e.setState({navigate:!1}),e.setState({captchainvalid:!0}),e.setState({captchaInput:""})):200===t.status?e.setState({navigate:!0}):(e.setState({navigate:!1}),e.setState({captchainvalid:!0}),e.setState({captchaInput:""}))})).catch((function(t){e.setState({captcha:null}),e.setState({message:"Error"}),e.setState({verifyButtonLoader:!1})}))}},{key:"render",value:function(){var e,t=this,a=this.props.t;console.log(this.state);var s={lang:this.state.lang,uuid:this.state.uuid};return this.state.navigate?Object(A.jsx)(re,Object(m.a)({},s)):Object(A.jsxs)(j.a,{className:"captcha",children:[Object(A.jsxs)(pe,{children:[Object(A.jsx)("img",{className:"sc-logo",src:"/assets/images/sc-logo.svg",alt:"Logo"}),Object(A.jsxs)("div",{className:"border",children:[Object(A.jsx)("div",{className:"border-top"}),Object(A.jsx)("div",{className:"border-bottom"})]}),Object(A.jsxs)("div",{className:"header-title",children:[a("new_booking.header"),Object(A.jsx)(x.a,{icon:Object(A.jsx)(ue.a,{}),shape:"round",className:"lang",onClick:function(){return t.changeLanguageHandler("en"===t.state.lang?"zh":"en")},children:a("captcha.selectOptions.".concat("en"===this.state.lang?"English":"Chinese"))})]})]}),Object(A.jsxs)(me,{children:[Object(A.jsx)(be,{}),Object(A.jsxs)("div",{className:"captcha-validation",children:[!this.state.message&&Object(A.jsx)("div",{id:"loader",className:"loader"}),this.state.message&&this.state.message.toLowerCase()==="Error".toLowerCase()&&Object(A.jsx)("div",{className:"header",children:a("captcha.TechnicalError")}),this.state.message&&this.state.message.toLowerCase()==="Maintenance".toLowerCase()&&Object(A.jsx)("div",{className:"header",children:a("captcha.Maintenance")}),this.state.message&&this.state.message.toLowerCase()==="Thankyou".toLowerCase()&&Object(A.jsx)("div",{className:"header",children:a("captcha.Thankyou")}),this.state.message&&this.state.message.toLowerCase()==="Up".toLowerCase()&&Object(A.jsxs)("div",{className:"block",children:[Object(A.jsx)("div",{children:a("captcha.header")}),this.state.reloadCaptchaLoader&&!this.state.captcha&&Object(A.jsx)("div",{id:"loader",className:"loader"}),!this.state.reloadCaptchaLoader&&this.state.captcha&&Object(A.jsxs)("div",{className:"captcha-img",children:[Object(A.jsx)("img",{src:"data:image/png;base64,"+this.state.captcha,alt:"Captcha"}),Object(A.jsx)(x.a,{className:"img-reload",shape:"circle",icon:Object(A.jsx)(de.a,{}),onClick:function(){return t.refreshCaptcha()}})]}),Object(A.jsx)(T.a,{placeholder:a("captcha.placeholder"),size:"large",maxLength:7,value:this.state.captchaInput,autoFocus:!0,onChange:function(e){t.validate(e)},onPressEnter:function(){return t.verifyCaptcha()}}),!this.state.reloadCaptchaLoader&&this.state.captcha&&this.state.captchainvalid&&Object(A.jsx)("div",{className:"captcha-error",children:a("captcha.Error")}),Object(A.jsx)(x.a,{block:!0,disabled:7!==(null===(e=this.state.captchaInput)||void 0===e?void 0:e.length),onClick:function(){return t.verifyCaptcha()},children:a("captcha.button")}),this.state.verifyButtonLoader&&Object(A.jsx)("div",{id:"loader",className:"loader"})]})]})]})]})}}]),a}(s.Component),ge=Object(q.a)()(je),fe=a(169),ve=a(26),Oe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(A.jsxs)(fe.a,{children:[Object(A.jsx)(ve.b,{path:"/captcha",component:ge}),Object(A.jsx)(ve.b,{path:"/booking",component:re}),Object(A.jsx)(ve.a,{to:"/captcha"})]})}}]),a}(s.Component),xe=Oe,ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,303)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),o(e),i(e)}))};i.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(xe,{})}),document.getElementById("root")),ye()}},[[283,1,2]]]);
//# sourceMappingURL=main.ce81ac8c.chunk.js.map